2025-07-22 00:28:27 [INFO] [app.UnifiedApp] unified_api.py:4440 - 接收到信号 2，准备退出...
2025-07-22 00:28:27 [ERROR] [app.UnifiedApp] unified_api.py:521 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 01:03:06 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 01:03:08 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 01:03:08 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4522 - 🚀 启动统一API服务...
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4523 - 📍 服务地址: http://localhost:8084
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4524 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4525 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4526 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4533 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 01:03:09 [INFO] [app.UnifiedApp] unified_api.py:4534 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 01:04:57 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 01:04:57 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 11:33:44 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 11:33:46 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 11:33:46 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 11:33:47 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 11:53:31 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 11:53:31 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 11:53:46 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 11:53:47 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 11:53:47 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 11:53:49 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 11:56:39 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 11:56:39 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 11:56:58 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 11:57:00 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 11:57:00 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 11:57:02 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 11:57:12 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 11:57:12 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 12:08:43 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 12:08:45 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 12:08:45 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 12:08:47 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 12:25:31 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 12:25:31 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 12:26:17 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 12:26:18 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 12:26:18 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 12:26:20 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 12:27:03 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 12:27:03 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 13:24:45 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 13:24:46 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 13:24:46 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 13:24:48 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 13:32:02 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 13:32:02 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 13:32:18 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 13:32:19 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 13:32:19 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 13:32:21 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 13:33:54 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 13:33:54 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 17:38:36 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 17:38:37 [INFO] [app.RedisConversationManager] redis_conversation_manager.py:35 - Redis连接成功: localhost:6379
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 17:38:37 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4642 - 🚀 启动统一API服务...
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4643 - 📍 服务地址: http://localhost:8084
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4644 - 🔗 健康检查: http://localhost:8084/health
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4645 - 📘 React Agent API: http://localhost:8084/api/v0/ask_react_agent
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4646 - 📘 LangGraph Agent API: http://localhost:8084/api/v0/ask_agent
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4647 - 💾 Vector备份API: http://localhost:8084/api/v0/data_pipeline/vector/backup
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4648 - 📥 Vector恢复API: http://localhost:8084/api/v0/data_pipeline/vector/restore
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4649 - 📋 备份列表API: http://localhost:8084/api/v0/data_pipeline/vector/restore/list
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4656 - 🚀 使用ASGI模式启动异步Flask应用...
2025-07-22 17:38:39 [INFO] [app.UnifiedApp] unified_api.py:4657 -    这将解决事件循环冲突问题，支持LangGraph异步checkpoint保存
2025-07-22 20:45:47 [INFO] [app.UnifiedApp] unified_api.py:282 - 🚀 正在异步初始化 Custom React Agent...
2025-07-22 20:45:47 [INFO] [app.UnifiedApp] unified_api.py:290 - ✅ Redis客户端连接成功
2025-07-22 20:45:50 [INFO] [app.UnifiedApp] unified_api.py:293 - ✅ React Agent 异步初始化完成
2025-07-22 20:45:50 [INFO] [app.UnifiedApp] unified_api.py:592 - 📨 收到React Agent请求 - User: wang16, Question: 请问系统中哪个服务区档口最多？...
2025-07-22 20:45:56 [INFO] [app.VannaSingleton] vanna_instance.py:29 - 创建 Vanna 实例...
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:187 - === 当前模型配置 ===
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:188 - LLM提供商: api
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:189 - LLM模型: qianwen
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:190 - Embedding提供商: api
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:191 - Embedding模型: text-embedding-v4
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:192 - 向量数据库: pgvector
2025-07-22 20:45:56 [INFO] [app.ConfigUtils] utils.py:193 - ==================
2025-07-22 20:45:57 [INFO] [app.VannaSingleton] vanna_instance.py:34 - Vanna 实例创建成功
2025-07-22 20:54:00 [INFO] [app.UnifiedApp] unified_api.py:245 - 👤 未提供user_id，从 thread_id 'wang16:20250722204550155' 中推断出: 'wang16'
2025-07-22 20:54:00 [INFO] [app.UnifiedApp] unified_api.py:592 - 📨 收到React Agent请求 - User: wang16, Question: 请问这个服务区有几个餐饮档口？...
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:2502 - 📋 获取用户 wang16 的对话列表（直接Redis方式）
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:329 - 🔍 扫描模式: checkpoint:wang16:*
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:339 - 📋 找到 36 个keys
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:361 - 📊 找到 1 个thread
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:381 - 🔍 Key checkpoint:wang16:20250722204550155:__empty__:1f066fb2-052e-667e-8021-9fd6bcb08135 的类型: ReJSON-RL
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:403 - 🔍 使用JSON.GET获取RedisJSON数据
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:409 - 🔍 JSON数据长度: 24914 字符
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:425 - 🔍 JSON顶级keys: ['thread_id', 'checkpoint_ns', 'checkpoint_id', 'parent_checkpoint_id', 'checkpoint', 'metadata', 'source', 'step']
2025-07-22 20:55:54 [INFO] [app.UnifiedApp] unified_api.py:437 - 🔍 找到messages: 19 条消息
2025-07-22 20:55:57 [INFO] [app.UnifiedApp] unified_api.py:499 - ✅ 返回 1 个对话
2025-07-22 20:56:25 [INFO] [app.UnifiedApp] unified_api.py:2559 - 📖 获取对话详情 - Thread: wang16:20250722204550155, Include Tools: False
2025-07-22 20:56:25 [INFO] [app.UnifiedApp] unified_api.py:2588 - ✅ 成功获取对话详情 - Messages: 4, Mode: 简化模式
2025-07-22 23:13:30 [INFO] [app.UnifiedApp] unified_api.py:4441 - 接收到信号 2，准备退出...
2025-07-22 23:13:30 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: asyncio.run() cannot be called from a running event loop
2025-07-22 23:13:30 [ERROR] [app.UnifiedApp] unified_api.py:522 - 清理资源失败: Event loop is closed

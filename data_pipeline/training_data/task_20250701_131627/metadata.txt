-- Schema Tools生成的主题元数据
-- 业务背景: 高速公路服务区管理系统
-- 生成时间: 2025-07-01 13:47:36
-- 数据库: highway_db

-- 创建表（如果不存在）
CREATE TABLE IF NOT EXISTS metadata (
    id SERIAL PRIMARY KEY,    -- 主键
    topic_name VARCHAR(100) NOT NULL,  -- 业务主题名称
    description TEXT,                  -- 业务主体说明
    related_tables TEXT[],			  -- 相关表名
    biz_entities TEXT[],               -- 主要业务实体名称
    biz_metrics TEXT[],                -- 主要业务指标名称
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP    -- 插入时间
);

-- 插入主题数据
INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '日营收结构',
  '分析各服务区每日营收构成及支付方式占比，优化资金管理策略',
  'bss_business_day_data',
  '服务区,支付方式,档口',
  '总营收,现金占比,移动支付比例'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '车流高峰分析',
  '通过车辆统计表识别服务区高峰时段及车型分布，指导资源调度',
  'bss_car_day_count,bss_service_area',
  '服务区,车辆类型,统计日期',
  '日均车流,高峰时段,危化品车辆占比'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '分公司对比',
  '比较不同分公司的服务区运营效率及营收能力，发现管理差异',
  'bss_company,bss_service_area,bss_business_day_data',
  '分公司,服务区,运营指标',
  '人均营收,客单价,订单密度'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '路线关联分析',
  '研究路段路线与服务区的关联关系，优化路线规划和服务区配置',
  'bss_section_route,bss_section_route_area_link,bss_car_day_count',
  '路段,路线,服务区',
  '路线车流,服务区覆盖率,路线营收贡献'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '节假日效应',
  '分析节假日前后服务区营收和车流变化，制定营销和服务方案',
  'bss_business_day_data,bss_car_day_count',
  '服务区,节假日,支付方式',
  '节前增幅,节假日营收占比,车流增长率'
);


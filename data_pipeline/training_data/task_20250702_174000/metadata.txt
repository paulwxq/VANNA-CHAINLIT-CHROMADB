-- Schema Tools生成的主题元数据
-- 业务背景: 高速公路服务区管理系统
-- 生成时间: 2025-07-02 19:16:55
-- 数据库: highway_db

-- 创建表（如果不存在）
CREATE TABLE IF NOT EXISTS metadata (
    id SERIAL PRIMARY KEY,    -- 主键
    topic_name VARCHAR(100) NOT NULL,  -- 业务主题名称
    description TEXT,                  -- 业务主体说明
    related_tables TEXT[],			  -- 相关表名
    biz_entities TEXT[],               -- 主要业务实体名称
    biz_metrics TEXT[],                -- 主要业务指标名称
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP    -- 插入时间
);

-- 插入主题数据
INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '日营业数据分析',
  '分析各服务区每日营业收入、订单量及支付方式分布，监控经营趋势并优化档口管理',
  'bss_business_day_data',
  '服务区,档口,支付方式',
  '日收入趋势,订单量对比,支付方式占比'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '交通流量分析',
  '通过车辆类别统计和服务区车流量变化，评估交通压力并优化基础设施配置',
  'bss_car_day_count,bss_service_area',
  '车辆类型,服务区,统计日期',
  '车流量趋势,高峰时段分析,车型占比排名'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '公司运营绩效',
  '对比不同管理公司的服务区数量、运营状态及业务指标，评估企业经营效能',
  'bss_service_area,bss_company',
  '运营管理公司,服务区类型,运营状态',
  '服务区数量排名,区域覆盖率,业务指标对比'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '路线关联分析',
  '分析路段路线与服务区的关联关系，评估路网服务能力并优化服务区布局',
  'bss_section_route,bss_section_route_area_link',
  '路段路线,服务区,路段编号',
  '服务区覆盖密度,路线流量分布,关联合理性评估'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '支付偏好研究',
  '挖掘不同地区/档口的支付方式偏好，指导支付渠道优化与营销策略制定',
  'bss_business_day_data,bss_service_area',
  '服务区,档口,支付类型',
  '支付方式渗透率,区域偏好对比,档口支付结构分析'
);


-- Schema Tools生成的主题元数据
-- 业务背景: 高速公路服务区管理系统
-- 生成时间: 2025-07-02 20:03:05
-- 数据库: highway_db

-- 创建表（如果不存在）
CREATE TABLE IF NOT EXISTS metadata (
    id SERIAL PRIMARY KEY,    -- 主键
    topic_name VARCHAR(100) NOT NULL,  -- 业务主题名称
    description TEXT,                  -- 业务主体说明
    related_tables TEXT[],			  -- 相关表名
    biz_entities TEXT[],               -- 主要业务实体名称
    biz_metrics TEXT[],                -- 主要业务指标名称
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP    -- 插入时间
);

-- 插入主题数据
INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '日营收分析',
  '分析各服务区/档口每日营收、支付方式分布及订单量变化趋势，优化经营策略',
  'bss_business_day_data',
  '服务区,档口,支付方式',
  '收入趋势,支付分布,订单量对比'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '车流统计',
  '统计各服务区不同车型车流量分布及日变化规律，指导设施规划与资源配置',
  'bss_car_day_count,bss_service_area',
  '服务区,车辆类型,统计日期',
  '车流分布,高峰时段,环比增长'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '公司运营',
  '对比不同运营公司管理的服务区数量、日均营收及车流量，评估运营效率差异',
  'bss_company,bss_service_area,bss_business_day_data',
  '运营公司,服务区,路段',
  '营收排名,车流占比,单位效益'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '路线分布',
  '分析不同高速路线对应服务区的车流量和消费活跃度，优化路网资源调配',
  'bss_section_route,bss_section_route_area_link,bss_car_day_count',
  '高速路线,服务区,统计日期',
  '路线车流,消费热度,时段波动'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '支付偏好',
  '研究各服务区不同支付方式的使用频率和金额占比，指导支付渠道优化决策',
  'bss_business_day_data,bss_service_area',
  '服务区,支付类型,档口',
  '支付渗透率,金额占比,区域差异'
);


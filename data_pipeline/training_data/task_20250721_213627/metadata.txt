-- Schema Tools生成的主题元数据
-- 业务背景: 高速公路服务区管理系统
-- 生成时间: 2025-07-21 21:44:05
-- 数据库: highway_db

-- 创建表（如果不存在）
CREATE TABLE IF NOT EXISTS metadata (
    id SERIAL PRIMARY KEY,    -- 主键
    topic_name VARCHAR(100) NOT NULL,  -- 业务主题名称
    description TEXT,                  -- 业务主体说明
    related_tables TEXT[],			  -- 相关表名
    biz_entities TEXT[],               -- 主要业务实体名称
    biz_metrics TEXT[],                -- 主要业务指标名称
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP    -- 插入时间
);

-- 插入主题数据
INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '日营业分析',
  '基于经营明细表分析各服务区及档口的日收入、订单量和支付方式分布，辅助运营决策与资源调配。',
  'bss_business_day_data',
  '服务区,档口,支付方式',
  '总收入,订单数趋势,支付方式占比'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '车流特征洞察',
  '结合车辆类型和日期分析服务区车流量变化，识别高峰时段和主力车型，优化服务供给结构。',
  'bss_car_day_count',
  '车辆类别,服务区',
  '日均车流量,车型占比,周同比变化'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '公司绩效对比',
  '按所属公司统计旗下服务区营收与车流数据，评估不同区域公司的整体运营效率和服务能力差异。',
  'bss_business_day_data,bss_service_area,bss_company',
  '公司,服务区,支付方式',
  '平均日营收,订单增长率,车流转化率'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '路段关联分析',
  '通过路段-服务区关联关系，分析不同高速路段的车流与消费行为差异，支持路网级资源投放策略。',
  'bss_section_route,bss_section_route_area_link,bss_car_day_count,bss_business_day_data',
  '路段名称,路线名称,服务区',
  '路段总车流,路段消费总额,单均消费排名'
);

INSERT INTO metadata(topic_name, description, related_tables, biz_entities, biz_metrics) VALUES
(
  '状态效能评估',
  '对比开放、关闭等不同运营状态的服务区在车流和营收上的表现，为动态调整运营策略提供依据。',
  'bss_service_area,bss_car_day_count,bss_business_day_data',
  '运营状态,服务区类型,服务区',
  '日均营收对比,车流活跃度,状态影响指数'
);

